<div class="buscar-historial-container">

    <div class="page-header">
      <div class="header-content">
        <button class="back-btn" (click)="goBack()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
          Volver
        </button>
        <div class="header-info">
          <h1>Buscar por Historial</h1>
          <p>Partidos recomendados basados en tu historial</p>
        </div>
      </div>
    </div>
  
  
    <div *ngIf="isLoading" class="loading-container">
      <div class="loading-spinner">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" opacity="0.3"/>
          <path d="M12 2C17.5228 2 22 6.47715 22 12" stroke="currentColor" stroke-width="2">
            <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" values="0 12 12;360 12 12"/>
          </path>
        </svg>
      </div>
      <p>Buscando partidos recomendados...</p>
    </div>
  

    <div *ngIf="!isLoading" class="results-container">
      <div class="results-header">
        <h2>Partidos Recomendados</h2>
        <p>{{partidosRecomendados.length}} partidos encontrados</p>
      </div>
  
      <div class="partidos-grid" *ngIf="partidosRecomendados.length > 0">
        <div class="partido-card" *ngFor="let partido of partidosRecomendados">
          <div class="partido-header">
            <div class="deporte-badge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              </svg>
              {{partido.tipoDeporte}}
            </div>
            <div class="jugadores-info">
              {{partido.jugadoresInscritos}}/{{partido.cantidadJugadores}}
            </div>
          </div>
  
          <div class="partido-details">
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
              </svg>
              <span>{{partido.fecha}} - {{partido.hora}}</span>
            </div>
  
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 10C21 17 12 23 12 23S3 17 3 10C3 5.02944 7.02944 1 12 1C16.9706 1 21 5.02944 21 10Z" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
              </svg>
              <span>{{partido.ubicacion}}</span>
            </div>
  
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              </svg>
              <span>Organizador: {{partido.organizador}}</span>
            </div>
          </div>
  
          <div class="partido-actions">
            <button class="join-btn" (click)="joinPartido(partido.id)">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2"/>
                <circle cx="8.5" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                <line x1="20" y1="8" x2="20" y2="14" stroke="currentColor" stroke-width="2"/>
                <line x1="17" y1="11" x2="23" y2="11" stroke="currentColor" stroke-width="2"/>
              </svg>
              Unirse al Partido
            </button>
          </div>
        </div>
      </div>
  

      <div *ngIf="partidosRecomendados.length === 0" class="empty-state">
        <div class="empty-icon">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
            <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>
        <h3>No se encontraron partidos</h3>
        <p>No hay partidos recomendados basados en tu historial en este momento.</p>
      </div>
    </div>
  </div>
  