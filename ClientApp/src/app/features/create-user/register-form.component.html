<div class="register-container">
  <div class="register-card">
    <div class="card-header">
      <h1 class="card-title">
        <i class="icon-user"></i>
        Registro de Usuario
      </h1>
      <p class="card-description">Completa todos los campos para crear tu cuenta</p>
    </div>

    <div class="card-content">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        

        <div class="form-section">
          <div class="section-header">
            <i class="icon-user"></i>
            <span>Información Personal</span>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="username">Nombre de Usuario</label>
              <input
                id="username"
                type="text"
                formControlName="username"
                placeholder="tu_usuario"
                [class.error]="isFieldInvalid('username')"
              />
              <div class="error-message" *ngIf="isFieldInvalid('username')">
                {{ getErrorMessage('username') }}
              </div>
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <div class="input-with-icon">
                <i class="icon-mail"></i>
                <input
                  id="email"
                  type="email"
                  formControlName="email"
                  placeholder="tu@email.com"
                  [class.error]="isFieldInvalid('email')"
                />
              </div>
              <div class="error-message" *ngIf="isFieldInvalid('email')">
                {{ getErrorMessage('email') }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="password">Contraseña</label>
            <div class="input-with-icon">
              <i class="icon-lock"></i>
              <input
                id="password"
                type="password"
                formControlName="password"
                placeholder="••••••••"
                [class.error]="isFieldInvalid('password')"
              />
            </div>
            <div class="error-message" *ngIf="isFieldInvalid('password')">
              {{ getErrorMessage('password') }}
            </div>
          </div>
        </div>

        <div class="separator"></div>


        <div class="form-section">
          <div class="section-header">
            <i class="icon-trophy"></i>
            <span>Información Deportiva</span>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="deporteFavorito">Deporte Favorito</label>
              <select
                id="deporteFavorito"
                formControlName="deporteFavorito"
                [class.error]="isFieldInvalid('deporteFavorito')"
              >
                <option value="">Selecciona tu deporte</option>
                <option *ngFor="let deporte of deportes" [value]="deporte">
                  {{ deporte }}
                </option>
              </select>
              <div class="error-message" *ngIf="isFieldInvalid('deporteFavorito')">
                {{ getErrorMessage('deporteFavorito') }}
              </div>
            </div>

            <div class="form-group">
              <label for="nivelJuego">Nivel de Juego (Opcional)</label>
              <div class="input-with-icon">
                <i class="icon-target"></i>
                <select id="nivelJuego" formControlName="nivelJuego">
                  <option value="">Selecciona tu nivel</option>
                  <option *ngFor="let nivel of nivelesJuego" [value]="nivel">
                    {{ nivel }}
                  </option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="separator"></div>


        <div class="form-section" formGroupName="ubicacion">
          <div class="section-header">
            <i class="icon-map-pin"></i>
            <span>Ubicación</span>
          </div>

          <div class="form-row">
            <div class="form-group form-group-wide">
              <label for="nombreCalle">Nombre de la Calle</label>
              <input
                id="nombreCalle"
                type="text"
                formControlName="nombreCalle"
                placeholder="Av. Corrientes"
                [class.error]="isUbicacionFieldInvalid('nombreCalle')"
              />
              <div class="error-message" *ngIf="isUbicacionFieldInvalid('nombreCalle')">
                {{ getUbicacionErrorMessage('nombreCalle') }}
              </div>
            </div>

            <div class="form-group">
              <label for="numero">Número</label>
              <input
                id="numero"
                type="text"
                formControlName="numero"
                placeholder="1234"
                [class.error]="isUbicacionFieldInvalid('numero')"
              />
              <div class="error-message" *ngIf="isUbicacionFieldInvalid('numero')">
                {{ getUbicacionErrorMessage('numero') }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="ciudad">Ciudad</label>
            <input
              id="ciudad"
              type="text"
              formControlName="ciudad"
              placeholder="Buenos Aires"
              [class.error]="isUbicacionFieldInvalid('ciudad')"
            />
            <div class="error-message" *ngIf="isUbicacionFieldInvalid('ciudad')">
              {{ getUbicacionErrorMessage('ciudad') }}
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="submit-button"
          [disabled]="isSubmitting"
        >
          {{ isSubmitting ? 'Registrando...' : 'Registrar Usuario' }}
        </button>
      </form>
    </div>
  </div>
</div>
